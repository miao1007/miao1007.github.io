<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="description" content="网上软件工程相关的书籍与文档已经有很多了，但是一般都存在一定的幸存者偏差，比如《人月神话》作者叙述如何在IBM带团队，而现实中反而大部分遇到的项目是领导拍脑袋决定几天搞定业务；或者给你一堆不是你面试的外包/新员工；或者临时给你交接一个锅"><meta name="keyword" content="Kaizen"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>过程改进</title><link rel="icon" href="data:image/svg+xml,%3Csvg width='24' height='28' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext font-size='24' y='24'%3E諺%3C/text%3E%3C/svg%3E" type="image/x-icon"><link href="/styles/site.css" rel="stylesheet"><meta name="generator" content="Hexo 5.4.0"></head><body class="container"><header id="header"><div class="header"><div class="header-left"><div class="author"><div class="author-name"><a href="/">諺</a></div></div></div><div class="header-right"><ul class="navigation"><li><a href="/archives">Archives</a></li><li style="font-size:.9rem"><a href="/archives" rel="nofollow">zh</a></li><li style="font-size:.9rem"><a href="#" rel="nofollow">|</a></li><li style="font-size:.9rem"><a href="/en" rel="nofollow">en</a></li><li><a href="/tags" rel="nofollow">Tags</a></li><li><a href="/about" rel="nofollow">About</a></li><li><a href="/epistemology" rel="nofollow">Epistemology</a></li><li><a href="/books" rel="nofollow">読書</a></li></ul></div></div></header><div class="content-wrapper"><div class="post"><section class="article"><div class="title">过程改进</div><div class="date">2017-08-25に投稿</div><div class="content"><p>网上软件工程相关的书籍与文档已经有很多了，但是一般都存在一定的幸存者偏差，比如《人月神话》作者叙述如何在IBM带团队，而现实中反而大部分遇到的项目是领导拍脑袋决定几天搞定业务；或者给你一堆不是你面试的外包/新员工；或者临时给你交接一个锅</p><span id="more"></span><p>本文适用于</p><ul><li>技术水平很高，同时更希望获得非技术成长的读者</li></ul><p>本文限定的场景是</p><ul><li>只在<strong>个人层面</strong>上自下而上效率改良，非管理者，无法影响项目这艘大船的全局航线</li><li>主要适用于大型软件项目</li></ul><p>本文的内容是通过负向改进来识别不增值的工作，而不是一键升级软件质量的【特效药】</p><p>主要目的</p><ul><li>提前发现/拒绝不增值业务</li><li>自动化/外包化重复劳动</li></ul><p>其实这种效率提升与JVM优化有相似之处，比如JIT优化、代码记忆化、内联去掉无用代码</p><p>关键词: <code>方法论</code>, <code>持续改进</code>, <code>会议</code>, <code>质量与流程</code></p><hr><h2>懂得拒绝</h2><p>在代码中经常写各种防御代码，用于判断空或者业务校验。在开发中也是一样，第一件是就是拒绝/甩锅。拒绝主要有2种类型，一个是不要轻易承诺，另一个是不要把帮助当做理所当然。</p><ul><li>不接受直接派来的外包: 一定要自己再面一遍，否则后续就擦屁股吧。</li><li>不接受没有交接来的锅: 这种一般都找不到责任人，否则加班到晚上还找不到接口人。</li><li>他人挖坑导致的救火: 要求领导承诺事后进行AAR改进</li><li>不接受各种不增值杂活: 这样的活一般直接分一个非主力外包出去干(搞环境/冒烟/笔试对答案)。</li></ul><p>总的来说，遇到上面问题我个人一般是拒绝的，硬要塞给我也会报风险。如果你个人不太习惯直接拒绝的话，你可以提一个比较高的条件，让对方知难而退；否则一旦接受，后面的锅就源源不断甩过来了。</p><h2>记录每天的工作</h2><p>识别不增值工作的第一步就是发现问题，最简单的方法就是无巨细地记录每天的工作内容。投资时间并不多，而且收益率非常高</p><p><img src="http://upload-images.jianshu.io/upload_images/98641-c6280890dce2c1bf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/480" alt="TOO-BUSY.png"></p><p>实现方法</p><ol><li>使用场景: 当你感觉非常忙的时候才用，平时反而必要使用</li><li>使用Excel/便签等工具，以小时为刻度，记录自己遇到了什么问题，最终如何解决的，责任人是谁要落地</li><li>项目不紧张时，列出表格对时间，不是自己的责任要甩锅，是自己的责任要想出改进建议</li></ol><p>举个例子，我在某项目开发中某用例执行时报错，责任主体不明确，涉及到: 自己开发的代码，其它组的代码，自动化用例，开发环境(Redis/Zk/DB)。而且这个定位及其复杂，搞了一天最终定位出是其它组代码导致的。众所周知，CI失败将影响整个组，因此通过记录定位过程，既可以方便甩锅，也可以后期进行持续改进</p><p>你可以把这个方法先用几天，然后把问题攒着再进行会议集中处理，具体流程如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">按照小时维度记录工作内容</span><br><span class="line">	|</span><br><span class="line">项目不紧张时统计分析工作是否增值</span><br><span class="line">	|</span><br><span class="line">将不增值工作自动化&#x2F;外包化</span><br><span class="line">	|</span><br><span class="line">自己留下更多时间</span><br></pre></td></tr></table></figure><p>这个方法也就是所谓的AAR事后回顾</p><h2>无增值项目问题枚举</h2><p>下面是在实际项目中通过上面“记录”遇到的问题与解决方法</p><h4>模块责任不明确</h4><p>在项目开发中，涉及到各种组件，出了问题经常会互相踢皮球，这种问题，需要建立求助Map</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> map = [:]</span><br><span class="line"><span class="keyword">def</span> lookForHelp = &#123;problem-&gt;</span><br><span class="line">	<span class="comment">//定位求助....</span></span><br><span class="line">  	<span class="keyword">return</span> person;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">def</span> person = map.get(problem)</span><br><span class="line"><span class="keyword">if</span>(person!= <span class="literal">null</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> person</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">  person = lookForHelp(problem)</span><br><span class="line">  map.put(problem,person)</span><br><span class="line">  <span class="keyword">return</span> person</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>就是上面代码的意思，通过建立Map缓存，并分享求助信息(比如项目组内部主页)给成员，减少<code>lookForHelp</code>的时间</p><blockquote><p>这个就是算法中的动态规划，保留计算结果供下次使用</p></blockquote><h4>忽视自动化工程投资</h4><p>以常见的开发领域为例，许多人都遇到过下面的问题</p><ul><li>生产环境与测试环境数据“污染”导致耗费大量精力定位问题</li><li>各个小组通过邮件、Word、Excel去定义协议，版本管理混乱，后期大量扯皮</li><li>客户/测试的问题通过邮件轰炸，开发手工用记事本核对是否解决</li></ul><p>这些问题看起来可大可小，都可以通过堆加班，招外包来解决问题，因此很多人，包括开发人员也不重视，最多也就是每次到了deadline时开始抱怨加班多，而deadline结束后再也没有想办法如何去改进问题。这个是拖延症，得治。按照【二八定律】，可能有80%的人都默默地被动忍受，10%的人可能发个帖/邮件抱怨一下，剩下的10%可能才提出问题<strong>后并解决问题</strong>。</p><p>解决方法</p><ul><li>求助领导推动问题: 请领导给自己时间去专门优化流程，甚至大的项目组可以成立专门的工具开发组</li><li>投入专有人力/时间开发工具: 将重复需要做的事情封装为【流程函数】，并进行版本与文档维护</li><li>所有的流程/文档全部版本化: 比如Url协议可以通过Postman/Swagger以外部文本DSL的形式进行保存，而不是使用Word这样的二进制格式，这个好处就是支持Git版本管理，同时有大量的工具方便生成测试用例或者MockStub</li><li>自动处理任务: 使用脚本，机器学习，AI来处理各种任务，这个是未来的趋势。</li></ul><p>其实还有很多自动化方法，具体的发展方向就是IT/流程与工具，这个涉及到跨领域问题，做自动化需要与内部客户对齐</p><h4>过早进行公共下沉</h4><p>在某些企业项目中，为了降低成本，公司想尽量复制，去除定制。因此总是有各种趋势把代码放到公共中，想节省开发时间。</p><p>不过事与愿违，真正项目中却是这样的</p><ul><li>代码下沉到公共后，多人修改后(加入各种if)，最终成为了大麻花，没人再敢修改或者重构</li><li>有人代码质量差，有人离职跑路了，而这个公共每个人不得不用，苦了后面的开发去定位问题</li><li>项目后期，开发宁可用黑科技绕开公共，或者再写一道适配器，反而浪费了更多的时间</li></ul><p>这里面最重要的原因是为了项目层面上为了【重复率】指标而公共，用行政命令控制项目代码</p><p>对于此类问题，有如下方法</p><ul><li>及时报延期风险，并证明收益比是多么低</li><li>转换、查表、补全等CURD操作不适合放到公共</li><li>真的有场景需要才下沉到公共，平时尽可能使用开源/有积累的公共库</li></ul><blockquote><p><a target="_blank" rel="noopener" href="http://www.yinwang.org/blog-cn/2013/04/13/generality">谈程序的“通用性”</a></p></blockquote><h4>过早进行联调</h4><p>在交付类软件项目中，就算《人月神话》在公司推广得再多，实际项目还是给一个deadline，然后算出人天，最后再加权除法计算到某一个人，因此项目的时间总是不够。</p><p>当项目进度由于各种原因落后，此时为了发版本而强行进行过早联调，这样看起来“准点了”，实际上问题更大</p><ul><li>部分代码没有测试就直接联调，出现问题难以通过排除法定位出责任人</li><li>所有人挤在一台机器上，日志多/重启多，最终效率反而更低</li></ul><p>对于此类问题，大船已经快沉了，任何改进都是在浪费时间，我建议跑路</p><h4>忽视合作人员质量控制</h4><p>在很多软件公司中，包括BAT都招聘了大量的合作方员工，如果给你分几个水货，那么你就是给他们擦屁股的；如果来了几个高手，你就可以当包工头啦。总体来说，我个人建议</p><ul><li>严格要求面试(特别是自学能力)，否则最后加班的是你自己</li><li>反复筛选淘汰(时间可能长达数月)，最终选出符合要求而且稳定的人员</li><li>尽可能不要远程办公，而是要通过晨会等面对面的方式对齐目标</li></ul><blockquote><p>详见如何在两周内带起一个小团队？</p></blockquote><h4>无时不在的墨菲定律</h4><p>墨菲定律指，也就是说在项目中忽视的小问题，最终一定会发生。举个例子</p><ul><li>没有审阅过的代码一定会出错</li><li>没有维护的开发环境一定会挂掉</li></ul><p>这类小问题，发现一个记录一个，找出对应责任人，并建立文档化的Wiki，以解决此问题。</p><h2>总结</h2><p>本文其实就是一篇自下而上的改良方法论。各位在项目中遇到类似问题时，首先不要有抵触心理(不要敌视，也不要闷着不说)，而是要通过上面的方法论进行总结反馈，<strong>并向上给出</strong>改进建议</p><ul><li>改进成功: 当然是皆大欢喜的事情了</li><li>改进失败: 如果上级是一个二传手，那么问题将很难推动，请赶紧逃离</li></ul><p>总的来说，任何改良都不如“跟对人”，这个就是靠运气了</p><h2>扩展阅读</h2><ul><li>《软件开发践行路-ThoughtWorks中国区文集》</li><li>《图解CIO工作指南》</li></ul></div><div class="tags"><a class="tag-link" href="/tags/Kaizen/" rel="tag">Kaizen</a></div></section><ul class="nav"><li>Prev:<a href="/%E9%80%9A%E8%BF%87gitbook%E6%89%93%E9%80%A0%E8%87%AA%E5%B7%B1%E7%9A%84%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/">通过GitBook打造自己的知识体系</a></li><li>Next:<a href="/serverless%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE%E5%88%86%E4%BA%AB-spring-cloud-function/">Serverless开源项目分享-Spring-Cloud-Function</a></li></ul><div class="comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the<a target="_blank" rel="noopener" href="http://disqus.com/?ref_noscript">comments powered by Disqus</a></noscript></div></div></div></div><footer><div class="rights"><a href="/feed.xml" rel="external nofollow">RSS</a><span>, Theme </span><a href="https://github.com/gary-Shen/hexo-theme-bear" rel="external nofollow" target="_blank">Curry</a><span>.</span></div></footer><script>window.onload=function(){var a,e,n,t;a=window,e=document,t="script",n="ga",a.GoogleAnalyticsObject=n,a.ga=a.ga||function(){(a.ga.q=a.ga.q||[]).push(arguments)},a.ga.l=+new Date,n=e.createElement(t),t=e.getElementsByTagName(t)[0],n.async=1,n.src="//www.google-analytics.com/analytics.js",t.parentNode.insertBefore(n,t),ga("create","UA-102296742-1","auto"),ga("send","pageview")}</script></body></html>